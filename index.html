<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>Lumo OS</title>
	<link rel="icon" type="image/svg+xml" href="assets/images/logo.svg">
	<script src="https://cdn.tailwindcss.com"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=VT323&display=swap"
		rel="stylesheet">
	<link rel="stylesheet" href="src/styles.css">
	<script src="src/system/i18n.js" defer></script>
	<script src="src/themes/presets.js" defer></script>
	<script src="src/system/theme.js" defer></script>
	<script src="src/system/boot-animation.js" defer></script>
	<script src="src/login.js" defer></script>
	<script src="src/apps/default/photo-pro/photo-pro.js" defer></script>
	<script src="src/apps/default/lumo-help/lumo-help.js" defer></script>
	<script src="src/apps/default/lumo-365/lumo-365.js" defer></script>
	<script src="src/apps/default/lumo-wallpaper/lumo-wallpaper.js" defer></script>
	<script src="src/apps/default/sound-studio/sound-studio.js" defer></script>
	<script src="src/apps/default/lumo-dev/lumo-dev.js" defer></script>
	<script src="src/apps/default/video-studio/video-studio.js" defer></script>
	<script src="src/apps/default/camera/camera.js" defer></script>
	<script src="src/apps/community/drawin-simple/drawin-simple.js" defer></script>
	<script src="src/apps/community/grapher/grapher.js" defer></script>
	<script src="src/apps/default/lumora/lumora.js" defer></script>
	<script src="src/apps/default/lumo-drop/lumo-drop.js" defer></script>
	<script src="src/apps/default/talko/talko.js" defer></script>
	<script src="src/apps/default/lumo-security/lumo-security.js" defer></script>
</head>

<body class="h-screen w-screen overflow-hidden bg-black">

	<!-- Boot Screen -->
	<div id="boot-screen"
		class="fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-black text-white transition-opacity duration-1000">
		<div class="relative">
			<h1 class="font-dot text-9xl tracking-tighter animate-pulse text-white"
				style="text-shadow: 4px 4px 0px var(--accent);">
				LUMO <span class="text-[var(--accent)]">OS</span>
			</h1>
			<div
				class="absolute -top-6 -right-6 text-xs font-mono text-gray-500 rotate-12 border border-gray-800 p-1 rounded">
				(NOTHING_INSPIRED)
			</div>
		</div>

		<div class="mt-12 flex flex-col items-center gap-2">
			<!-- Dotted Loader -->
			<div class="flex gap-2">
				<div class="w-3 h-3 bg-[var(--accent)] rounded-full animate-bounce" style="animation-delay: 0s"></div>
				<div class="w-3 h-3 bg-white rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
				<div class="w-3 h-3 bg-[var(--accent)] rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
			</div>

			<!-- Boot Bar -->
			<div class="w-64 h-2 bg-gray-900 mt-6 relative overflow-hidden">
				<div id="boot-bar"
					class="absolute inset-y-0 left-0 bg-[repeating-linear-gradient(45deg,var(--accent),var(--accent)_10px,transparent_10px,transparent_20px)] w-0 transition-all duration-[2500ms] ease-out">
				</div>
			</div>
		</div>

		<div class="fixed bottom-8 left-8 text-xs font-mono text-gray-600 flex flex-col gap-1">
			<span class="animate-glitch">>>> SYSTEM.BOOT_SEQUENCE_INIT</span>
			<span>>>> LOAD_KERNEL... OK</span>
			<span>>>> MOUNT_FS... OK</span>
			<span>>>> START_UI... PENDING</span>
		</div>

		<div class="fixed bottom-8 right-8 text-right">
			<div class="font-dot text-4xl text-gray-800">v1.0</div>
		</div>
	</div>

	<!-- Login Screen -->
	<div id="login-screen" class="hidden"></div>

	<!-- Desktop Environment -->
	<div id="desktop"
		class="relative h-full w-full hidden bg-[url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop')] bg-cover bg-center transition-opacity duration-500 opacity-0">
		<div class="absolute inset-0 bg-black/40 backdrop-blur-[2px]"></div>

		<!-- Desktop Icons Grid -->
		<div class="absolute top-4 left-4 grid grid-cols-1 gap-6 sm:flex sm:flex-col sm:gap-4 z-0" id="desktop-icons">
			<!-- Icons generated by JS -->
		</div>

		<!-- Widgets Area (Nothing OS Style) -->
		<div id="desktop-widgets" class="widget-area">
			<!-- Widgets injected by JS -->
		</div>

		<!-- Window Area -->
		<div id="window-area" class="absolute inset-0 overflow-hidden pointer-events-none">
			<!-- Windows injected here -->
		</div>

		<!-- Center Spotlight / Search (Hidden by default) -->
		<div id="spotlight"
			class="absolute top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-2xl glass-panel rounded-2xl p-4 hidden flex-col z-[6000] animate-[scaleIn_0.2s_ease-out]">
			<div class="flex items-center gap-3 border-b border-white/10 pb-3">
				<i class="fa-solid fa-magnifying-glass text-gray-400"></i>
				<input type="text" placeholder="Lumo Search..."
					class="bg-transparent border-none outline-none text-2xl text-white w-full font-dot"
					id="spotlight-input">
			</div>
			<div class="mt-2 text-sm text-gray-500 font-mono">Type to search apps, files, or web...</div>
		</div>

		<!-- Control Center (iOS Style, Top Right) -->
		<div id="control-center"
			class="absolute top-16 right-4 w-80 glass-panel rounded-3xl p-4 z-[6000] hidden transform transition-all duration-300 origin-top-right scale-90 opacity-0">
			<div class="grid grid-cols-2 gap-3 mb-4">
				<div class="bg-white/10 hover:bg-white/20 p-4 rounded-2xl flex flex-col gap-2 transition cursor-pointer active:scale-95 group"
					onclick="toggleState(this)">
					<div
						class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white shadow-lg group-active:bg-blue-400">
						<i class="fa-solid fa-wifi"></i>
					</div>
					<span class="font-bold text-sm">Wi-Fi</span>
					<span class="text-xs text-gray-400">LumoNet_5G</span>
				</div>
				<div class="bg-white/10 hover:bg-white/20 p-4 rounded-2xl flex flex-col gap-2 transition cursor-pointer active:scale-95 group"
					onclick="toggleState(this)">
					<div class="w-8 h-8 rounded-full bg-gray-500 flex items-center justify-center text-white shadow-lg">
						<i class="fa-brands fa-bluetooth-b"></i>
					</div>
					<span class="font-bold text-sm">Bluetooth</span>
					<span class="text-xs text-gray-400">Off</span>
				</div>
			</div>
			<!-- Sliders -->
			<div class="space-y-4">
				<div class="bg-white/10 p-3 rounded-2xl flex items-center gap-3">
					<i class="fa-solid fa-sun text-gray-300"></i>
					<input type="range"
						class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-white">
				</div>
				<div class="bg-white/10 p-3 rounded-2xl flex items-center gap-3">
					<i class="fa-solid fa-volume-high text-gray-300"></i>
					<input type="range"
						class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-white">
				</div>
			</div>
			<!-- Media Player -->
			<div class="mt-4 bg-white/5 rounded-2xl p-3 flex items-center gap-3">
				<div
					class="w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center font-dot text-2xl shadow-md shadow-red-900/50">
					â™«</div>
				<div class="flex-1 overflow-hidden">
					<div class="text-sm font-bold truncate">Midnight City</div>
					<div class="text-xs text-gray-400">M83</div>
				</div>
				<i class="fa-solid fa-play text-xl px-2 cursor-pointer hover:text-[var(--accent)]"></i>
			</div>

			<!-- User / Logout -->
			<div class="mt-4 pt-4 border-t border-white/10 flex justify-between items-center">
				<span class="text-xs text-gray-400 font-mono">USER: <span id="current-user-name">Guest</span></span>
				<button onclick="logoutUser()"
					class="bg-red-500/20 hover:bg-red-500/40 text-red-400 px-3 py-1 rounded-lg text-xs font-bold transition">
					LOGOUT
				</button>
			</div>
		</div>

		<!-- Notification Shade (Android Style - Top) -->
		<div id="status-bar"
			class="absolute top-0 left-0 right-0 h-8 bg-black/20 backdrop-blur-md flex items-center justify-between px-4 z-[6000] text-xs font-bold select-none">
			<div class="font-dot text-lg tracking-widest">LUMO OS</div>
			<div class="flex items-center gap-4 cursor-pointer hover:bg-white/10 px-2 rounded h-full transition"
				onclick="toggleControlCenter()">
				<i class="fa-solid fa-battery-three-quarters"></i>
				<i class="fa-solid fa-wifi"></i>
				<span id="status-clock" class="font-dot text-lg">12:00</span>
			</div>
		</div>

		<!-- Dock / Taskbar (MacOS + Windows Hybrid) -->
		<div
			class="absolute bottom-4 left-1/2 transform -translate-x-1/2 w-[95%] sm:w-auto glass-panel rounded-2xl px-4 py-2 flex items-center gap-2 sm:gap-4 z-[6000] transition-all duration-300 hover:scale-[1.02]">
			<button onclick="toggleAppDrawer()"
				class="p-3 rounded-xl hover:bg-white/10 transition active:scale-90 group">
				<div class="grid grid-cols-2 gap-[2px]">
					<div class="w-1.5 h-1.5 bg-[var(--accent)] rounded-full group-hover:bg-white transition"></div>
					<div class="w-1.5 h-1.5 bg-white rounded-full"></div>
					<div class="w-1.5 h-1.5 bg-white rounded-full"></div>
					<div class="w-1.5 h-1.5 bg-white rounded-full group-hover:bg-[var(--accent)] transition"></div>
				</div>
			</button>

			<div class="w-[1px] h-8 bg-white/10 mx-1"></div>

			<!-- App Icons -->
			<div id="dock-apps" class="flex items-center gap-2 sm:gap-3">
				<!-- Generated by JS -->
			</div>

			<div class="w-[1px] h-8 bg-white/10 mx-1"></div>

			<button onclick="minimizeAll()"
				class="p-3 rounded-xl hover:bg-white/10 transition active:scale-90 group relative" title="Show Desktop">
				<div class="w-4 h-1 bg-white/50 rounded-full group-hover:bg-white transition"></div>
			</button>
		</div>

		<!-- App Drawer (Start Menu) -->
		<div id="app-drawer"
			class="absolute bottom-24 left-1/2 transform -translate-x-1/2 w-[95%] sm:w-[600px] h-[60vh] glass-panel rounded-3xl p-6 z-[6000] hidden flex-col gap-4 animate-[fadeUp_0.2s_ease-out]">
			<div class="flex items-center justify-between border-b border-white/10 pb-4">
				<div class="flex items-center gap-2">
					<i class="fa-solid fa-rocket text-[var(--accent)]"></i>
					<span class="font-dot text-2xl">APPLICATIONS</span>
				</div>
				<input type="text" id="drawer-search" placeholder="Search..."
					class="bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-sm text-white outline-none focus:border-[var(--accent)] w-40 placeholder-gray-500">
			</div>
			<div class="grid grid-cols-4 sm:grid-cols-5 gap-4 overflow-y-auto p-2" id="drawer-grid">
				<!-- Apps injected here -->
			</div>
		</div>

	</div>

	<script src="src/app.js" defer></script>
</body>

</html>